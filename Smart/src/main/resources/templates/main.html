<!DOCTYPE html>
<html lang="ko">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snap Note MainPage</title>
<style>
body {
	margin: 0;
	font-family: Arial, sans-serif;
	background-color: #f5f8fa;
}

.container {
	display: flex;
	height: 100vh;
}

.sidebar {
	width: 240px;
	background-color: #ffffff;
	padding: 20px;
	border-right: 1px solid #e5e7eb;
	box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
}

.main {
	flex: 1;
	padding: 30px;
	background-color: #f9fafb;
	overflow-y: auto;
}

.rightbar {
	width: 320px;
	background-color: #ffffff;
	padding: 20px;
	border-left: 1px solid #e5e7eb;
	box-shadow: -2px 0 5px rgba(0, 0, 0, 0.1);
}

.menu, .notes, .calendar, .info {
	margin-bottom: 30px;
}

.menu-item, .note-item, .calendar-day, .info-item {
	margin: 15px 0;
	color: #374151;
	font-size: 14px;
}

.menu-item {
	padding: 10px;
	color: #374151;
	font-size: 14px;
	cursor: pointer;
	border-radius: 5px;
	transition: background-color 0.3s ease;
}

.menu-item:hover {
	background-color: #f3f4f6;
}

/* í™œì„±í™”ëœ ë©”ë‰´ ìŠ¤íƒ€ì¼ */
.menu-item.active {
	font-weight: bold;
	color: black;
	background-color: #e5e7eb;
	border-left: 4px solid #374151;
	/* ì™¼ìª½ ê°•ì¡°ì„  ì¶”ê°€ */
}

.banner {
	display: flex;
	gap: 40px;
	margin-bottom: 30px;
}

.banner div {
	flex: 1;
	padding: 20px;
	background-color: #e5e7eb;
	border-radius: 10px;
	text-align: center;
	font-size: 14px;
	color: #111827;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.calendar {
	text-align: center;
	font-size: 14px;
	color: #374151;
}

.calendar-day {
	margin-top: 10px;
	font-weight: bold;
}

.info-item {
	padding: 10px;
	border-bottom: 1px solid #e5e7eb;
}

.buttons {
	display: flex;
	justify-content: center;
	gap: 40px;
}

button {
	background-color: white;
	border: 2px solid #ddd;
	border-radius: 50%;
	width: 60px;
	height: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 24px;
	cursor: pointer;
	box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
}

button:hover {
	background-color: #f0f0f0;
}

.logo-image {
	width: 180px;
	/* ê°€ë¡œ í¬ê¸° */
	height: auto;
	/* ë†’ì´ëŠ” ìë™ ì¡°ì • (ë¹„ìœ¨ ìœ ì§€) */
	text-align: center;
	margin-left: 25px;
	overflow: hidden;
	/* ë²—ì–´ë‚˜ëŠ” ìš”ì†Œ ìˆ¨ê¹€ */
}

.search-container {
	display: flex;
	justify-content: center;
	align-items: center;
	margin-bottom: 20px;
}

#searchInput {
	width: 1200px;
	padding: 10px;
	border: 1px solid #ccc;
	border-radius: 5px;
	font-size: 14px;
}

#searchBtn {
	background-color: #e5e7eb;
	color: black;
	border: none;
	padding: 5px 10px;
	margin-left: 10px;
	border-radius: 5px;
	height: 40px;
	cursor: pointer;
}

#searchBtn:hover {
	background-color: #9ca3af;
}

/* íƒ­ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ */
.notes-tabs {
	display: flex;
	gap: 10px;
	margin-bottom: 10px;
}

/* í™œì„±í™”ëœ íƒ­ ìŠ¤íƒ€ì¼ (ìµœê·¼ ë…¸íŠ¸) */
.tab-active {
	background-color: white;
	border: 2px solid #374151;
	border-radius: 10px;
	padding: 8px 8px;
	font-size: 14px;
	font-weight: bold;
	cursor: pointer;
	white-space: nowrap;
	width: 90px;
	height: 40px;
}

.notes {
	margin-top: 10px;
}

.note-item {
	display: flex;
	/* í•œ ì¤„ ì •ë ¬ */
	justify-content: space-between;
	/* ìš”ì†Œ ì‚¬ì´ ê°„ê²© ì¡°ì • */
	align-items: center;
	/* ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
	padding: 10px;
	border-bottom: 1px solid #e5e7eb;
	/* ì¤„ ê°„ êµ¬ë¶„ */
	cursor: pointer;
	/* í´ë¦­ ê°€ëŠ¥í•˜ë„ë¡ ì»¤ì„œ ë³€ê²½ */
}

.note-item:hover {
	background-color: white;
	/* ë°°ê²½ ìƒ‰ ë°˜ì „ */
	color: black /* ê¸€ì ìƒ‰ ë°˜ì „ */
}

.note-title {
	font-weight: bold;
	flex: 2;
	/* ê°€ë³€ ë„ˆë¹„ */
	text-align: left;
}

.note-date {
	flex: 1;
	text-align: center;
	color: #6b7280;
	/* íšŒìƒ‰ */
	font-size: 14px;
}

.note-time {
	flex: 1;
	text-align: right;
	color: #6b7280;
	font-size: 14px;
}

/* ìº˜ë¦°ë” ìŠ¤íƒ€ì¼ */
.custom-calendar {
	background-color: #ffffff;
	text-align: center;
	padding: 20px;
	border-left: 1px solid #e5e7eb;
	/* ğŸ‘‰ ë™ì¼í•œ ì„  ì¶”ê°€ */
}

.custom-month-year {
	font-size: 20px;
	margin-bottom: 10px;
}

.custom-calendar-table {
	width: 100%;
	max-width: 400px;
	border-collapse: collapse;
	margin: 0 auto;
}

.custom-calendar-table th, .custom-calendar-table td {
	padding: 10px;
	border: 1px solid #ddd;
	text-align: center;
}

.custom-day-title {
	font-weight: bold;
	background-color: #f3f4f6;
}

.custom-today {
	background-color: #efd5c8;;
	font-weight: bold;
}

/* ì„ íƒëœ ë‚ ì§œ ìŠ¤íƒ€ì¼ ì¶”ê°€ */
.selected-day {
	background-color: #dde1e7 !important;
	/* íšŒìƒ‰ ë°°ê²½ */
	font-weight: bold;
	color: black;
	border-radius: 0px;
}

/* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.custom-button {
	display: block;
	margin: 10px auto;
	padding: 0px;
	background-color: #e5e7eb;
	color: #F63B3B;
	border: none;
	border-radius: 10px;
	cursor: pointer;
	text-align: center;
	width: 100px;
	height: 30px;
	font-size: 17px;
}

.custom-button:hover {
	background-color: #374151;
	color: white;
}

/* ì •ë³´ ì„¹ì…˜ */
.custom-info {
	background-color: #ffffff;
	padding: 20px;
	margin-top: 20px;
	border-radius: 10px;
}

.custom-info-item {
	padding: 10px;
	border-bottom: 1px solid #e5e7eb;
	font-size: 14px;
	color: #374151;
}

/* ìº˜ë¦°ë” ìŠ¤íƒ€ì¼ */
.custom-calendar {
	text-align: center;
	padding: 20px;
}

.calendar-header {
	background: none;
	/* ë°°ê²½ ì œê±° */
	border: none;
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 15px;
	/* ë²„íŠ¼ê³¼ ë…„/ì›” ì‚¬ì´ ê°„ê²© */
}

.calendar-header button {
	width: 40px;
	/* ë²„íŠ¼ ë„ˆë¹„ */
	height: 40px;
	/* ë²„íŠ¼ ë†’ì´ */
	font-size: 20px;
	/* ì•„ì´ì½˜ í¬ê¸° */
}

.custom-month-year {
	font-size: 20px;
	margin-bottom: 10px;
}

.custom-calendar-table {
	width: 100%;
	max-width: 400px;
	border-collapse: collapse;
	margin: 0 auto;
}

.custom-calendar-table th, .custom-calendar-table td {
	padding: 10px;
	border: 1px solid #ddd;
	text-align: center;
}

.custom-day-title {
	font-weight: bold;
	background-color: #f3f4f6;
}

/* íšŒì˜ë¡ & ë©”ëª¨ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
.meeting-section {
	width: 100%;
	max-width: 400px;
	/* ìº˜ë¦°ë”ì™€ ë™ì¼í•œ ë„ˆë¹„ */
	margin: 0px 0px 0px 0px;
	/* ìº˜ë¦°ë” ì•„ë˜ë¡œ ì •ë ¬ */
	background: transparent;
	/* ìº˜ë¦°ë” ë°°ê²½ê³¼ ë™ì¼ */
	border-radius: 10px;
	text-align: center;
}

/* ë‚ ì§œ ì œëª© ìŠ¤íƒ€ì¼ */
#selected-date {
	font-size: 18px;
	font-weight: bold;
	margin-bottom: 10px;
}

/* íšŒì˜ë¡ ì œëª© ìŠ¤íƒ€ì¼ */
.meeting-title {
	margin-bottom: 10px;
}

.meeting-title h4 {
	font-size: 16px;
	margin-bottom: 5px;
	color: #374151;
}

.meeting-title p {
	font-size: 14px;
	color: #6b7280;
	background: #f3f4f6;
	padding: 8px;
	border-radius: 5px;
}

/* ë©”ëª¨ ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ */
.memo-container {
	margin-top: 10px;
}

textarea {
	width: 320px;
	height: 80px;
	padding: 10px;
	border: 1px solid #ccc;
	border-radius: 5px;
	font-size: 14px;
	resize: none;
}

/* ì €ì¥ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.memo-save-btn {
	display: block;
	width: 100%;
	height: 40px;
	max-width: 100px;
	background-color: #374151;
	color: white;
	border: none;
	padding: 8px 12px;
	margin: 10px auto;
	border-radius: 5px;
	cursor: pointer;
	font-size: 14px;
}

.memo-save-btn:hover {
	background-color: #1f2937;
}

.delete-memo-btn {
	background-color: none;
	width: 20px;
	height: 20px;
	border-radius: 10px;
}

/*íŒì—…ì°½ css ì‹œì‘*/
.popup-overlay {
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: rgba(0, 0, 0, 0.3);
	display: none;
	justify-content: center;
	align-items: center;
}

.popup {
	background: white;
	width: 500px;
	padding: 20px;
	border-radius: 10px;
	box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.form-container {
	display: flex;
	flex-direction: column;
	gap: 10px;
	align-items: center;
	padding-right: 30px;
}

.popup h2 {
	text-align: center;
	margin-bottom: 20px;
}

.form-group {
	width: 90%;
	margin-bottom: 15px;
}

label {
	display: block;
	font-size: 14px;
	margin-bottom: 5px;
}

input {
	width: 100%;
	padding: 10px;
	border: 1px solid #ccc;
	border-radius: 5px;
	font-size: 14px;
}

.btn-group {
	display: flex;
	justify-content: space-between;
	font-size: 14px;
}

.btn-save {
	background-color: #374151;
	color: white;
	width: 70px;
	height: 40px;
	font-size: 14px;
	border-radius: 10px;
}

.btn-save:hover {
	background-color: #e5e7eb;
	color: #374151;
}

.btn-cancel {
	background-color: #e5e7eb;
	width: 70px;
	height: 40px;
	font-size: 14px;
	border-radius: 10px;
}

.btn-cancel:hover {
	background-color: #374151;
	color: white;
}

/*íŒì—…ì°½ css ë*/

/* ë¶€ë“œëŸ¬ìš´ ë‚˜íƒ€ë‚¨ */
.fade-in {
  animation: fadeIn 0.5s forwards;
}

/* ë¶€ë“œëŸ¬ìš´ ì‚¬ë¼ì§ */
.fade-out {
  animation: fadeOut 0.5s forwards;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeOut {
  from { opacity: 1; transform: translateY(0); }
  to { opacity: 0; transform: translateY(10px); }
}

/* ì˜ˆìœ ë‹«ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.close-btn {
  background-color: #f87171; /* ì—°í•œ ë¹¨ê°• */
  color: white;
  font-size: 14px;
  padding: 8px 16px;
  border: none;
  border-radius: 20px;
  cursor: pointer;
  transition: background-color 0.3s, transform 0.2s;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  margin-bottom: 15px;
}

.close-btn:hover {
  background-color: #ef4444; /* ì§„í•œ ë¹¨ê°• */
  transform: scale(1.05);
}
</style>
</head>

<body>


	<div class="container">
		<div class="sidebar">
			<div class="menu">


				<!-- ì‚¬ì´íŠ¸ ë¡œê³  ë° ì´ë¦„ -->
				<a href="main"> <img src="images/snapnote_logo.png" alt="ì‚¬ì´íŠ¸ ë¡œê³ "
					class="logo-image">
				</a> <br>

				<!-- ë²„íŠ¼ ì˜ì—­ -->
				<div class="buttons">
					<!-- ë…¹ìŒ ë²„íŠ¼ -->
					<button id="recordBtn" onclick="location.href='recoding'">
						<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
							fill="currentColor" class="bi bi-mic" viewBox="0 0 16 16">
              <path
								d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5" />
              <path
								d="M10 8a2 2 0 1 1-4 0V3a2 2 0 1 1 4 0zM8 0a3 3 0 0 0-3 3v5a3 3 0 0 0 6 0V3a3 3 0 0 0-3-3" />
            </svg>
					</button>

					<!-- ì—…ë¡œë“œ ë²„íŠ¼ -->
					<button id="uploadBtn" onclick="location.href='upload'">
						<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"
							fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
              <path
								d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5" />
              <path
								d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z" />
            </svg>
					</button>
				</div>

				<br> <br>

				<div class="menu-item active">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
						fill="currentColor" class="bi bi-house-door" viewBox="0 0 16 16">
            <path
							d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4z" />
          </svg>
					í™ˆ
				</div>
				<div class="menu-item" onclick="location.href='allnotes'">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
						fill="currentColor" class="bi bi-journal-text" viewBox="0 0 16 16">
            <path
							d="M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5" />
            <path
							d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2" />
            <path
							d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z" />
          </svg>
					ì „ì²´ ë…¸íŠ¸

				</div>

				<!-- ìƒˆ í´ë”ê°€ ì¶”ê°€ë  ì˜ì—­ -->
				<div id="folder-container"></div>

				<div class="menu-item" onclick="location.href='trash'">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
						fill="currentColor" class="bi bi-trash3" viewBox="0 0 16 16">
            <path
							d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5" />
          </svg>
					íœ´ì§€í†µ
				</div>
				<script>
          for (let i = 0; i < 19; i++) {
            document.write("<br>");
          }
        </script>
				<div class="menu-item" onclick="location.href='index'">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
						fill="currentColor" class="bi bi-door-closed" viewBox="0 0 16 16">
            <path
							d="M3 2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v13h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3zm1 13h8V2H4z" />
            <path d="M9 9a1 1 0 1 0 2 0 1 1 0 0 0-2 0" />
          </svg>
					ë¡œê·¸ì•„ì›ƒ
				</div>
				<div class="menu-item" onclick="location.href='update'">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
						fill="currentColor" class="bi bi-person-gear" viewBox="0 0 16 16">
            <path
							d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m.256 7a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1zm3.63-4.54c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382zM14 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0" />
          </svg>
					ê°œì¸ì •ë³´ìˆ˜ì •
				</div>


			</div>
		</div>
		<div class="main">

			<!-- ğŸ” ê²€ìƒ‰ ì˜ì—­ ì‹œì‘ -->

			<form id="searchForm">
				<div class="search-container">
					<input type="text" name="query" id="searchInput"
						placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">

					<button id="searchBtn" type="submit">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
							fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
            <path
								d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
          </svg>
					</button>
				</div>
			</form>

<!-- ğŸ” ê²€ìƒ‰ ê²°ê³¼ ë‹«ê¸° ë²„íŠ¼ -->
<button id="closeSearchBtn" onclick="closeSearchResults()" style="display: none;" class="close-btn">
  âœ–
</button>

			<!-- ğŸ” ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ ì˜ì—­ -->
			<div id="searchResultsContainer"></div>

			<!-- fragments/searchResults.html -->
			<div id="searchResultsContainer" th:replace="fragments/searchResults :: results"></div>

<div id="mainContent">
			<div class="banner">
				<img src="images/ìš”ì•½.png" alt="ìš”ì•½ ë°°ë„ˆ"
					style="width: 350px; margin-left: 30px;"> <img
					src="images/ìŒì„±.png" alt="ìŒì„± ë°°ë„ˆ" style="width: 350px;"> <img
					src="images/ê²€ìƒ‰.png" alt="ê²€ìƒ‰ ë°°ë„ˆ" style="width: 350px;">

			</div>

			<div class="notes-tabs">
				<button class="tab-active">ì „ì²´ ë…¸íŠ¸</button>
			</div>
			<br>
			<div class="notes">
				<th:block th:each="meeting : ${meetings}">
					<div class="note-item">
						<span class="note-title"><a
							th:href="@{/notepage(idx=${meeting.meeting_idx})}"
							style="text-decoration: none; color: inherit;">[[${meeting.meeting_title}]]</a></span>

						<span class="note-date"
							th:text="${#temporals.format(meeting.created_at, 'yy-MM-dd HH:mm')}">ë‚ ì§œ</span>
						<span class="note-time"
							th:text="${#temporals.format(meeting.created_at, 'HH:mm:ss')}">ì‹œê°„</span>
					</div>
				</th:block>
			</div>
			
			</div>



		</div>



		<div class="custom-calendar">
			<div class="calendar-header">
				<button onclick="prevMonth()">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
						fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
            <path fill-rule="evenodd"
							d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8" />
          </svg>
				</button>
				<h2 class="custom-month-year"></h2>
				<button onclick="nextMonth()">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
						fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
            <path fill-rule="evenodd"
							d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8" />
          </svg>
				</button>
			</div>
			<!-- ì˜¤ëŠ˜ ë‚ ì§œë¡œ ì´ë™ ë²„íŠ¼ ì¶”ê°€ -->
			<button class="custom-button" onclick="goToToday()">ğŸ“† Today</button>

			<br>
			<table class="custom-calendar-table">
				<thead>
					<tr>
						<th class="custom-day-title" style="color: #F63B3B;">Sun</th>
						<th class="custom-day-title">Mon</th>
						<th class="custom-day-title">Tue</th>
						<th class="custom-day-title">Wed</th>
						<th class="custom-day-title">Thu</th>
						<th class="custom-day-title">Fri</th>
						<th class="custom-day-title" style="color: #3B82F6;">Sat</th>
					</tr>
				</thead>
				<tbody id="custom-calendar-body"></tbody>

			</table>


			<!-- ìº˜ë¦°ë” ì•„ë˜ íšŒì˜ë¡ ë° ë©”ëª¨ ì‘ì„± ì˜ì—­ -->
			<div class="meeting-section">
				<h3 id="selected-date"></h3>

				<!-- íšŒì˜ë¡ ì œëª© í‘œì‹œ -->
				<div class="meeting-title">

					<p id="meeting-title">
						<a id="meeting-link" href="#"
							style="text-decoration: none; color: inherit;">íšŒì˜ ì œëª©</a>
					</p>
				</div>

				<!-- ë©”ëª¨ ì‘ì„± ì˜ì—­ -->
				<div class="memo-container">
					<textarea id="meeting-memo" placeholder="í•´ë‹¹ ë‚ ì§œì˜ íšŒì˜ë¡ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”."></textarea>
				</div>

				<!-- ì €ì¥ ë²„íŠ¼ -->
				<button class="memo-save-btn" onclick="saveMemo()">ì €ì¥</button>
			</div>
		</div>




	</div>


</body>

<script>

//âœ… ì„ íƒí•œ ë‚ ì§œì— í•´ë‹¹í•˜ëŠ” íšŒì˜ ì œëª©ì„ ì—…ë°ì´íŠ¸í•˜ê³  í´ë¦­í•˜ë©´ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ë„ë¡ ì„¤ì •
function updateMeetingTitle() {
  if (!selectedDate) return;

  const formattedDate = selectedDate.toISOString().split('T')[0];
  console.log("ğŸ” ì„ íƒí•œ ë‚ ì§œ:", formattedDate);

  // âœ… ì„ íƒí•œ ë‚ ì§œì˜ íšŒì˜ ì°¾ê¸°
  const meeting = meetingData.find(meet => {
    const meetingDate = meet.meeting_date.split('T')[0];
    return meetingDate === formattedDate;
  });

  const meetingLink = document.getElementById("meeting-link");
  const titleElement = document.getElementById("meeting-title");

  if (meeting) {
	  console.log("âœ… íšŒì˜ ë°ì´í„° í™•ì¸:", meeting);  // íšŒì˜ ë°ì´í„° ì¶œë ¥
	    console.log("ğŸ†” meeting_idx ê°’:", meeting.meeting_idx);  // meeting_idx ê°’ í™•ì¸ 
	  
    // âœ… íšŒì˜ê°€ ìˆëŠ” ê²½ìš° ì œëª©ì„ ì„¤ì •í•˜ê³  ë§í¬ë¥¼ ì ìš©
    meetingLink.textContent = `ğŸ“Œ ${meeting.meeting_title}`;
    meetingLink.href = `${window.location.origin}/smart/notepage?idx=${meeting.meeting_idx}`;
    meetingLink.style.color = "blue"; // ë§í¬ ìŠ¤íƒ€ì¼ ì¶”ê°€
  } else {
	  console.log("âš ï¸ ì„ íƒí•œ ë‚ ì§œì— íšŒì˜ê°€ ì—†ìŠµë‹ˆë‹¤.");
    // âœ… íšŒì˜ê°€ ì—†ëŠ” ê²½ìš° ê¸°ë³¸ ë©”ì‹œì§€ ìœ ì§€
    meetingLink.textContent = "ğŸ“Œ í•´ë‹¹ ë‚ ì§œì— ì§„í–‰ëœ íšŒì˜ê°€ ì—†ìŠµë‹ˆë‹¤.";
    meetingLink.href = "#"; // ì´ë™ ë¶ˆê°€ ì²˜ë¦¬
    meetingLink.style.color = "inherit"; // ì›ë˜ ìŠ¤íƒ€ì¼ ìœ ì§€
  }
}

///// ì‹œì‘ë¶€ë¶„ì…ë‹ˆë‹¤

let currentYear, currentMonth;
let selectedDate = null;
let meetingData = [];

let savedMemos = JSON.parse(localStorage.getItem("savedMemos")) || {};

// âœ… ì„ íƒí•œ ë‚ ì§œë¥¼ `<h3 id="selected-date"></h3>`ì— í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ ì¶”ê°€
function updateSelectedDateDisplay() {
  if (!selectedDate) return;
  const formattedDate = selectedDate.toISOString().split('T')[0].replace(/-/g, '.');
  document.getElementById("selected-date").textContent = formattedDate;
}

// âœ… íšŒì˜ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
async function fetchMeetings() {
  try {
    const response = await fetch('http://localhost:8083/smart/meetings');
    if (!response.ok) throw new Error(`HTTP error! Status: ${response.status}`);

    meetingData = await response.json();
    console.log("âœ… íšŒì˜ ë°ì´í„° ë¶ˆëŸ¬ì˜´:", meetingData);

    updateMeetingTitle();
  } catch (error) {
    console.error("âŒ íšŒì˜ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ì˜¤ë¥˜:", error);
  }
}

// âœ… ì„ íƒí•œ ë‚ ì§œì˜ íšŒì˜ ì œëª© ì—…ë°ì´íŠ¸
function updateMeetingTitle() {
  if (!selectedDate) return;

  const formattedDate = selectedDate.toISOString().split('T')[0];
  console.log("ğŸ” ì„ íƒí•œ ë‚ ì§œ:", formattedDate);

  const meeting = meetingData.find(meet => {
    const meetingDate = meet.meeting_date.split('T')[0];
    return meetingDate === formattedDate;
  });

  const titleElement = document.getElementById("meeting-title");

  if (meeting) {
    titleElement.textContent = `ğŸ“Œ ${meeting.meeting_title}`;
  } else {
    titleElement.textContent = "ğŸ“Œ í•´ë‹¹ ë‚ ì§œì— ì§„í–‰ëœ íšŒì˜ê°€ ì—†ìŠµë‹ˆë‹¤.";
  }
}

// âœ… ìº˜ë¦°ë” ìƒì„±
function generateCalendar(year, month) {
  const today = new Date();
  const firstDay = new Date(year, month, 1).getDay();
  const daysInMonth = new Date(year, month + 1, 0).getDate();

  document.querySelector('.custom-month-year').textContent =
    new Date(year, month).toLocaleDateString('en-US', { month: 'long', year: 'numeric' });

  let calendarBody = document.getElementById('custom-calendar-body');
  calendarBody.innerHTML = "";
  let row = document.createElement('tr');

  for (let i = 0; i < firstDay; i++) {
    row.appendChild(document.createElement('td'));
  }

  for (let day = 1; day <= daysInMonth; day++) {
    let cell = document.createElement('td');
    cell.textContent = day;

    if (year === today.getFullYear() && month === today.getMonth() && day === today.getDate()) {
      cell.classList.add('custom-today');
    }

    cell.addEventListener("click", function () {
      selectedDate = new Date(year, month, day+1);

      document.querySelectorAll(".custom-calendar-table td").forEach(td => {
        td.classList.remove("selected-day");
      });

      cell.classList.add("selected-day");

      updateMeetingTitle();
      updateSelectedDateDisplay(); // âœ… ì„ íƒí•œ ë‚ ì§œë¥¼ í™”ë©´ì— í‘œì‹œ
    });

    row.appendChild(cell);

    if ((day + firstDay) % 7 === 0) {
      calendarBody.appendChild(row);
      row = document.createElement('tr');
    }
  }

  if (row.children.length > 0) calendarBody.appendChild(row);
}

// âœ… ì´ì „ ë‹¬ë¡œ ì´ë™
function prevMonth() {
  currentMonth--;
  if (currentMonth < 0) {
    currentMonth = 11;
    currentYear--;
  }
  generateCalendar(currentYear, currentMonth);
}

// âœ… ë‹¤ìŒ ë‹¬ë¡œ ì´ë™
function nextMonth() {
  currentMonth++;
  if (currentMonth > 11) {
    currentMonth = 0;
    currentYear++;
  }
  generateCalendar(currentYear, currentMonth);
}

// âœ… ì˜¤ëŠ˜ ë‚ ì§œë¡œ ì´ë™
function goToToday() {
  const today = new Date();
  currentYear = today.getFullYear();
  currentMonth = today.getMonth();
  generateCalendar(currentYear, currentMonth);
  selectedDate = today;
  updateMeetingTitle();
  updateSelectedDateDisplay(); // âœ… "ì˜¤ëŠ˜" ë²„íŠ¼ í´ë¦­ ì‹œ ë‚ ì§œ ì—…ë°ì´íŠ¸
}

// âœ… í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
document.addEventListener("DOMContentLoaded", async () => {
  const today = new Date();
  currentYear = today.getFullYear();
  currentMonth = today.getMonth();
  generateCalendar(currentYear, currentMonth);

  selectedDate = today;
  await fetchMeetings();
  updateMeetingTitle();
  updateSelectedDateDisplay();
});

// ë©”ëª¨ ì €ì¥í•˜ê¸° 
async function saveMemo() {
    let memoInput = document.getElementById("meeting-memo").value.trim();
    let meetingIdx = document.getElementById("meeting-link").dataset.meetingIdx;

    console.log("âœ… ì „ì†¡í•  meetingIdx:", meetingIdx); // ì¶”ê°€
    console.log("âœ… ì „ì†¡í•  ë©”ëª¨:", memoInput); // ì¶”ê°€
    
    
    if (!selectedDate || memoInput === "") {
        alert("ë‚ ì§œë¥¼ ì„ íƒí•˜ê³  ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”!");
        return;
    }

    let dateKey = selectedDate.toISOString().split('T')[0];
    
    try {
        const response = await fetch("http://localhost:8083/smart/save-memo", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                meeting_idx: meetingIdx,
                memo_text: memoInput
            })
        });

        const result = await response.json();
        if (result.success) {
            alert("ë©”ëª¨ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
            document.getElementById("meeting-memo").value = "";
            loadMemos(meetingIdx);
        } else {
            alert("ë©”ëª¨ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.");
        }
    } catch (error) {
        console.error("âŒ ë©”ëª¨ ì €ì¥ ì˜¤ë¥˜:", error);
    }
}
// ë©”ëª¨ ì €ì¥ ë 

// íŠ¹ì • íšŒì˜ ë¶ˆëŸ¬ì˜¤ê¸°
async function loadMemos(meetingIdx) {
    if (!meetingIdx) {
        console.error("âš ï¸ meetingIdx ê°’ì´ ì—†ìŠµë‹ˆë‹¤. ë©”ëª¨ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        return;
    }
    console.log("ğŸ” ë©”ëª¨ ë¶ˆëŸ¬ì˜¤ê¸° ìš”ì²­ URL:", `http://localhost:8083/smart/get-memos/${meetingIdx}`);
    try {
        const response = await fetch(`http://localhost:8083/smart/get-memos/${meetingIdx}`);
        const memos = await response.json();

        let memoContainer = document.querySelector(".memo-container");
     // âœ… ê¸°ì¡´ ë©”ëª¨ ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™” (textareaëŠ” ìœ ì§€)
        const existingList = document.getElementById("memo-list");
        if (existingList) existingList.remove();

        // âœ… ìƒˆë¡œìš´ ë©”ëª¨ ë¦¬ìŠ¤íŠ¸ ì˜ì—­ ìƒì„±
        const memoListContainer = document.createElement("div");
        memoListContainer.id = "memo-list";
        memoListContainer.style.marginTop = "10px";
       
     // textarea ì•„ë˜ì— ë©”ëª¨ ë¦¬ìŠ¤íŠ¸ ì‚½ì…
        const textarea = document.getElementById("meeting-memo");
        textarea.parentNode.insertBefore(memoListContainer, textarea.nextSibling);

        memos.forEach(memo => {
            let memoElement = document.createElement("p");
            memoElement.innerHTML = `
            	  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
            	       class="bi bi-chat-left-text" viewBox="0 0 16 16" style="margin-right: 6px; vertical-align: middle;">
            	    <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H4.414A2 2 0 0 0 3 11.586l-2 2V2a1 1 0 0 1 1-1z
            	             M2 0a2 2 0 0 0-2 2v12.793a.5.5 0 0 0 .854.353l2.853-2.853A1 1 0 0 1 4.414 12H14
            	             a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
            	    <path d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5
            	             M3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6
            	             m0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5"/>
            	  </svg>
            	  ${memo.memoText}
            	`;

            memoElement.style.background = "#f3f4f6";
            memoElement.style.padding = "8px";
            memoElement.style.borderRadius = "5px";
            memoElement.style.marginBottom = "5px";
            
            memoListContainer.appendChild(memoElement);
        });
    } catch (error) {
        console.error("âŒ ë©”ëª¨ ë¶ˆëŸ¬ì˜¤ê¸° ì˜¤ë¥˜:", error);
    }
}
// íŠ¹ì •íšŒì˜ ë 

// íŠ¹ì •íšŒì˜ ì—°ê²°
function updateMeetingTitle() {
    if (!selectedDate) return;

    const formattedDate = selectedDate.toISOString().split('T')[0];
    console.log("ğŸ” ì„ íƒí•œ ë‚ ì§œ:", formattedDate);

    const meeting = meetingData.find(meet => {
        const meetingDate = meet.meeting_date.split('T')[0];
        return meetingDate === formattedDate;
    });

    const meetingLink = document.getElementById("meeting-link");
    const titleElement = document.getElementById("meeting-title");

    if (meeting) {
    	 console.log("âœ… íšŒì˜ ë°ì´í„° í™•ì¸:", meeting);
         console.log("ğŸ†” meeting_idx ê°’:", meeting.meeting_idx);

         meetingLink.textContent = `ğŸ“Œ ${meeting.meeting_title}`;
         meetingLink.href = `${window.location.origin}/smart/notepage?idx=${meeting.meeting_idx}`;
         meetingLink.dataset.meetingIdx = meeting.meeting_idx;
         meetingLink.style.color = "blue";

         // âœ… ì„ íƒí•œ íšŒì˜ì˜ ë©”ëª¨ ë¶ˆëŸ¬ì˜¤ê¸°
         loadMemos(meeting.meeting_idx);
    } else {
        meetingLink.textContent = "ğŸ“Œ í•´ë‹¹ ë‚ ì§œì— ì§„í–‰ëœ íšŒì˜ê°€ ì—†ìŠµë‹ˆë‹¤.";
        meetingLink.href = "#";
        meetingLink.dataset.meetingIdx = "";
        meetingLink.style.color = "inherit";
        
        // âœ… ë©”ëª¨ ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™”
        const existingList = document.getElementById("memo-list");
        if (existingList) existingList.remove();
    }
}

// íŠ¹ì •íšŒì˜ ë

document.getElementById("searchForm").addEventListener("submit", function (e) {
  e.preventDefault(); // í¼ ì œì¶œ ë§‰ê¸°
  
  console.log("ğŸ” ê²€ìƒ‰ ìš”ì²­ ë“¤ì–´ì˜´"); // ë””ë²„ê¹… ë¡œê·¸

  const query = document.getElementById("searchInput").value;
  if (!query.trim()) return;

  fetch("/smart/search", {
    method: "POST",
    headers: {
      "Content-Type": "application/x-www-form-urlencoded"
    },
    body: "query=" + encodeURIComponent(query),
    credentials: "include"
  })
  .then(response => response.text())
  .then(html => {
	  const container = document.getElementById("searchResultsContainer");
      container.innerHTML = html;
      container.classList.remove("fade-out");
      container.classList.add("fade-in");

      document.getElementById("mainContent").style.display = "none";
      // âœ… ë‹«ê¸° ë²„íŠ¼ ë³´ì—¬ì£¼ê¸°
      document.getElementById("closeSearchBtn").style.display = "inline-block";
  })
  .catch(error => {
    console.error("ê²€ìƒ‰ ì˜¤ë¥˜:", error);
  });
});

function closeSearchResults() {
	  const container = document.getElementById("searchResultsContainer");
	  const closeBtn = document.getElementById("closeSearchBtn");
	  const mainContent = document.getElementById("mainContent");
	  
	  container.classList.remove("fade-in");
	  container.classList.add("fade-out");
	  
	  // ë©”ì¸ ì½˜í…ì¸  ë‹¤ì‹œ ë³´ì´ê²Œ (ìˆ¨ê²¨ì§„ ìƒíƒœì˜€ë‹¤ë©´)
	  mainContent.style.display = "block";
	  mainContent.classList.remove("fade-out");
	  mainContent.classList.add("fade-in");

	  setTimeout(() => {
	    container.innerHTML = "";
	    container.classList.remove("fade-out");
	    closeBtn.style.display = "none"; // âœ… ë²„íŠ¼ë„ ë‹¤ì‹œ ìˆ¨ê¹€
	  }, 500);
	}

</script>

</html>